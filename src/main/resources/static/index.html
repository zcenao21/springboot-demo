<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>欢迎使用Will的网站</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* 烟花效果样式 */
    .firework-particle {
        position: fixed;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        pointer-events: none;
        z-index: 9999;
    }

    /* 烟花按钮 */
    .firework-btn {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(45deg, #ff6b6b, #feca57);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transition: all 0.3s;
        z-index: 1000;
    }

    .firework-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }
    </style>
</head>
<body>
<button class="firework-btn" onclick="createRandomFirework()">🎆 烟花</button>

<div class="container">
        <div class="header">
            <h1>21 Spring Test</h1>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('user-tab')">用户操作</button>
            <button class="tab" onclick="showTab('upload-tab')">文件上传</button>
            <button class="tab" onclick="showTab('form-tab')">表单提交</button>
        </div>

        <!-- 用户操作标签页 -->
        <div id="user-tab" class="tab-content active">
            <h3>用户操作</h3>
            <p>测试不同的HTTP请求方法</p>

            <div class="form-group">
                <form action="/user" method="get">
                    <input class="btn" value="GET请求" type="submit">
                </form>
            </div>

            <div class="form-group">
                <form action="/user" method="post">
                    <input name="_m" value="DELETE" type="hidden">
                    <input class="btn btn-danger" value="DELETE请求" type="submit">
                </form>
            </div>
        </div>

        <!-- 文件上传标签页 -->
        <div id="upload-tab" class="tab-content">
            <h3>文件上传</h3>
            <p>选择文件并上传到服务器</p>

            <form action="/upload" enctype="multipart/form-data" method="post">
                <div class="form-group">
                    <label for="file">选择文件：</label>
                    <input type="file" name="file" id="file">
                </div>
                <input class="btn btn-success" type="submit" value="上传文件">
                <input class="btn" type="reset" value="重置">
            </form>
        </div>

        <!-- 表单提交标签页 -->
        <div id="form-tab" class="tab-content">
            <h3>用户信息表单</h3>
            <p>填写并提交用户信息</p>

            <form action="/hello/save" method="post">
                <div class="form-group">
                    <label for="name">姓名：</label>
                    <input name="name" id="name" placeholder="请输入姓名">
                </div>
                <div class="form-group">
                    <label for="age">年龄：</label>
                    <input name="age" id="age" type="number" placeholder="请输入年龄">
                </div>
                <input class="btn btn-success" value="提交" type="submit">
            </form>
        </div>
    </div>

<script>
    function showTab(tabId) {
        const contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => content.classList.remove('active'));

        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => tab.classList.remove('active'));

        document.getElementById(tabId).classList.add('active');
        event.target.classList.add('active');
    }

    // 简化的烟花效果
    function createFirework(x, y) {
        console.log('创建烟花在位置:', x, y); // 调试用

        const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3', '#54a0ff'];
        const particleCount = 20;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'firework-particle';

            // 设置样式
            const color = colors[Math.floor(Math.random() * colors.length)];
            particle.style.backgroundColor = color;
            particle.style.boxShadow = `0 0 6px ${color}`;

            // 设置初始位置
            particle.style.left = (x - 3) + 'px';
            particle.style.top = (y - 3) + 'px';

            document.body.appendChild(particle);

            // 计算运动方向
            const angle = (Math.PI * 2 * i) / particleCount;
            const speed = 2 + Math.random() * 3;
            let dx = Math.cos(angle) * speed;
            let dy = Math.sin(angle) * speed;
            let opacity = 1;
            let size = 6;

            // 动画函数
            function animate() {
                const currentLeft = parseFloat(particle.style.left);
                const currentTop = parseFloat(particle.style.top);

                particle.style.left = (currentLeft + dx) + 'px';
                particle.style.top = (currentTop + dy) + 'px';

                // 添加重力效果
                dy += 0.1;
                dx *= 0.99;

                // 淡出效果
                opacity -= 0.02;
                size *= 0.98;

                particle.style.opacity = opacity;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';

                if (opacity > 0 && size > 0.5) {
                    requestAnimationFrame(animate);
                } else {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }
            }

            // 延迟启动动画，创造爆炸效果
            setTimeout(() => {
                requestAnimationFrame(animate);
            }, Math.random() * 100);
        }
    }

    // 随机位置创建烟花
    function createRandomFirework() {
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight;
        createFirework(x, y);
        console.log('随机烟花触发'); // 调试用
    }

    // 点击页面创建烟花
    document.addEventListener('click', function(e) {
        // 排除按钮和表单元素
        if (e.target.tagName !== 'BUTTON' &&
            e.target.tagName !== 'INPUT' &&
            e.target.tagName !== 'LABEL') {
            createFirework(e.clientX, e.clientY);
            console.log('点击烟花触发'); // 调试用
        }
    });

    // 页面加载完成后测试烟花
    window.addEventListener('load', function() {
        console.log('页面加载完成，准备显示烟花');
        setTimeout(() => {
            createFirework(window.innerWidth / 2, window.innerHeight / 2);
        }, 1000);
    });
</script>

</body>
</html>
