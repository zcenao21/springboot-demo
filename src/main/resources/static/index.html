<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>æ¬¢è¿ä½¿ç”¨Willçš„ç½‘ç«™</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* çƒŸèŠ±æ•ˆæœæ ·å¼ */
    .firework-particle {
        position: fixed;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        pointer-events: none;
        z-index: 9999;
    }

    /* çƒŸèŠ±æŒ‰é’® */
    .firework-btn {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(45deg, #ff6b6b, #feca57);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transition: all 0.3s;
        z-index: 1000;
    }

    .firework-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }
    </style>
</head>
<body>
<button class="firework-btn" onclick="createRandomFirework()">ğŸ† çƒŸèŠ±</button>

<div class="container">
        <div class="header">
            <h1>21 Spring Test</h1>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('user-tab')">ç”¨æˆ·æ“ä½œ</button>
            <button class="tab" onclick="showTab('upload-tab')">æ–‡ä»¶ä¸Šä¼ </button>
            <button class="tab" onclick="showTab('form-tab')">è¡¨å•æäº¤</button>
        </div>

        <!-- ç”¨æˆ·æ“ä½œæ ‡ç­¾é¡µ -->
        <div id="user-tab" class="tab-content active">
            <h3>ç”¨æˆ·æ“ä½œ</h3>
            <p>æµ‹è¯•ä¸åŒçš„HTTPè¯·æ±‚æ–¹æ³•</p>

            <div class="form-group">
                <form action="/user" method="get">
                    <input class="btn" value="GETè¯·æ±‚" type="submit">
                </form>
            </div>

            <div class="form-group">
                <form action="/user" method="post">
                    <input name="_m" value="DELETE" type="hidden">
                    <input class="btn btn-danger" value="DELETEè¯·æ±‚" type="submit">
                </form>
            </div>
        </div>

        <!-- æ–‡ä»¶ä¸Šä¼ æ ‡ç­¾é¡µ -->
        <div id="upload-tab" class="tab-content">
            <h3>æ–‡ä»¶ä¸Šä¼ </h3>
            <p>é€‰æ‹©æ–‡ä»¶å¹¶ä¸Šä¼ åˆ°æœåŠ¡å™¨</p>

            <form action="/upload" enctype="multipart/form-data" method="post">
                <div class="form-group">
                    <label for="file">é€‰æ‹©æ–‡ä»¶ï¼š</label>
                    <input type="file" name="file" id="file">
                </div>
                <input class="btn btn-success" type="submit" value="ä¸Šä¼ æ–‡ä»¶">
                <input class="btn" type="reset" value="é‡ç½®">
            </form>
        </div>

        <!-- è¡¨å•æäº¤æ ‡ç­¾é¡µ -->
        <div id="form-tab" class="tab-content">
            <h3>ç”¨æˆ·ä¿¡æ¯è¡¨å•</h3>
            <p>å¡«å†™å¹¶æäº¤ç”¨æˆ·ä¿¡æ¯</p>

            <form action="/hello/save" method="post">
                <div class="form-group">
                    <label for="name">å§“åï¼š</label>
                    <input name="name" id="name" placeholder="è¯·è¾“å…¥å§“å">
                </div>
                <div class="form-group">
                    <label for="age">å¹´é¾„ï¼š</label>
                    <input name="age" id="age" type="number" placeholder="è¯·è¾“å…¥å¹´é¾„">
                </div>
                <input class="btn btn-success" value="æäº¤" type="submit">
            </form>
        </div>
    </div>

<script>
    function showTab(tabId) {
        const contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => content.classList.remove('active'));

        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => tab.classList.remove('active'));

        document.getElementById(tabId).classList.add('active');
        event.target.classList.add('active');
    }

    // ç®€åŒ–çš„çƒŸèŠ±æ•ˆæœ
    function createFirework(x, y) {
        console.log('åˆ›å»ºçƒŸèŠ±åœ¨ä½ç½®:', x, y); // è°ƒè¯•ç”¨

        const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3', '#54a0ff'];
        const particleCount = 20;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'firework-particle';

            // è®¾ç½®æ ·å¼
            const color = colors[Math.floor(Math.random() * colors.length)];
            particle.style.backgroundColor = color;
            particle.style.boxShadow = `0 0 6px ${color}`;

            // è®¾ç½®åˆå§‹ä½ç½®
            particle.style.left = (x - 3) + 'px';
            particle.style.top = (y - 3) + 'px';

            document.body.appendChild(particle);

            // è®¡ç®—è¿åŠ¨æ–¹å‘
            const angle = (Math.PI * 2 * i) / particleCount;
            const speed = 2 + Math.random() * 3;
            let dx = Math.cos(angle) * speed;
            let dy = Math.sin(angle) * speed;
            let opacity = 1;
            let size = 6;

            // åŠ¨ç”»å‡½æ•°
            function animate() {
                const currentLeft = parseFloat(particle.style.left);
                const currentTop = parseFloat(particle.style.top);

                particle.style.left = (currentLeft + dx) + 'px';
                particle.style.top = (currentTop + dy) + 'px';

                // æ·»åŠ é‡åŠ›æ•ˆæœ
                dy += 0.1;
                dx *= 0.99;

                // æ·¡å‡ºæ•ˆæœ
                opacity -= 0.02;
                size *= 0.98;

                particle.style.opacity = opacity;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';

                if (opacity > 0 && size > 0.5) {
                    requestAnimationFrame(animate);
                } else {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }
            }

            // å»¶è¿Ÿå¯åŠ¨åŠ¨ç”»ï¼Œåˆ›é€ çˆ†ç‚¸æ•ˆæœ
            setTimeout(() => {
                requestAnimationFrame(animate);
            }, Math.random() * 100);
        }
    }

    // éšæœºä½ç½®åˆ›å»ºçƒŸèŠ±
    function createRandomFirework() {
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight;
        createFirework(x, y);
        console.log('éšæœºçƒŸèŠ±è§¦å‘'); // è°ƒè¯•ç”¨
    }

    // ç‚¹å‡»é¡µé¢åˆ›å»ºçƒŸèŠ±
    document.addEventListener('click', function(e) {
        // æ’é™¤æŒ‰é’®å’Œè¡¨å•å…ƒç´ 
        if (e.target.tagName !== 'BUTTON' &&
            e.target.tagName !== 'INPUT' &&
            e.target.tagName !== 'LABEL') {
            createFirework(e.clientX, e.clientY);
            console.log('ç‚¹å‡»çƒŸèŠ±è§¦å‘'); // è°ƒè¯•ç”¨
        }
    });

    // é¡µé¢åŠ è½½å®Œæˆåæµ‹è¯•çƒŸèŠ±
    window.addEventListener('load', function() {
        console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œå‡†å¤‡æ˜¾ç¤ºçƒŸèŠ±');
        setTimeout(() => {
            createFirework(window.innerWidth / 2, window.innerHeight / 2);
        }, 1000);
    });
</script>

</body>
</html>
